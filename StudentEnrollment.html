<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student Enrollment</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- === 学生录入 === -->
  <div class="card">
    <h2>➕ New Student Enrollment</h2>
    <form id="enrollForm">
      <label>Student Name</label>
      <input type="text" id="studentName" required>

      <label>Gender</label>
      <select id="gender">
        <option value="M">Male</option>
        <option value="F">Female</option>
      </select>

      <label>Date of Birth</label>
      <input type="date" id="dob" required>

      <label>Guardian Name</label>
      <input type="text" id="guardianName" required>

      <label>Guardian Phone</label>
      <input type="tel" id="guardianPhone" required>

      <label>Emergency Contact</label>
      <input type="text" id="emergencyContact">

      <label>Emergency Phone</label>
      <input type="tel" id="emergencyPhone">

      <button type="submit" id="submitBtn">Submit</button>
    </form>
  </div>

  <!-- === 学生查询 === -->
  <div class="card card-dark">
    <h2>🔍 Search Student</h2>
    <input type="text" id="searchKeyword" placeholder="Enter name / DOB / phone">
    <button onclick="searchStudent()">Search</button>

    <div id="searchResults"></div>
  </div>

  <!-- === 底部导航栏 === -->
  <div class="bottom-nav">
    <a href="index.html" class="nav-item active">
      <span class="icon">🏠</span>
      <span class="label">Home</span>
    </a>
    <a href="CourseEnrollment.html" class="nav-item">
      <span class="icon">📚</span>
      <span class="label">Courses</span>
    </a>
    <a href="index.html" class="nav-item logo">★</a>
    <a href="Attendance.html" class="nav-item">
      <span class="icon">📝</span>
      <span class="label">Attendance</span>
    </a>
    <a href="Report.html" class="nav-item">
      <span class="icon">📊</span>
      <span class="label">Reports</span>
    </a>
  </div>

  <script>
    // 防重复提交逻辑
    const form = document.getElementById("enrollForm");
    const btn = document.getElementById("submitBtn");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      btn.disabled = true;
      btn.textContent = "Submitting...";

      // TODO: fetch 到 Apps Script API
      setTimeout(() => {
        alert("提交成功 (模拟)");
        btn.disabled = false;
        btn.textContent = "Submit";
      }, 1500);
    });

    function searchStudent() {
      const kw = document.getElementById("searchKeyword").value;
      document.getElementById("searchResults").innerHTML = 
        `<p>Searching for <b>${kw}</b>... (mockup)</p>`;
    }
  </script>
</body>
</html>
