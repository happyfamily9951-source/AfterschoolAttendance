<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Test doPost</title>
</head>
<body>
<h2>Test doPost → Attendance v10:07 </h2>
<button onclick="sendTest()">发送测试数据</button>

<pre id="result"></pre>

<script>
const API_URL = "https://script.google.com/macros/s/AKfycbyJ_tmxD-m9O1QfnOT7kxwJQ2MSPYQHxgEf5AlFdYyrr7fqACLlLknI3OAINliBVfAr/exec";

function sendTest() {
  const testRecords = [
    {
      studentId: "stu001",
      studentName: "Tom",
      gender: "M",
      className: "2025Q3-TestClass",
      status: "Present",
      notes: "Test record from HTML"
    },
    {
      studentId: "stu002",
      studentName: "Alice",
      gender: "F",
      className: "2025Q3-TestClass",
      status: "Leave",
      notes: "Doctor appointment"
    }
  ];

  fetch(API_URL, {
    method: "POST",
    body: JSON.stringify({ records: testRecords }),
    headers: { "Content-Type": "application/json" }
  })
    .then(r => r.json())
    .then(data => {
      document.getElementById("result").textContent = JSON.stringify(data, null, 2);
    })
    .catch(err => {
      document.getElementById("result").textContent = "Error: " + err;
    });
}
</script>
</body>
</html>
